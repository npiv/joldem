!function n(r,t,e){function i(o,f){if(!t[o]){if(!r[o]){var s="function"==typeof require&&require;if(!f&&s)return s(o,!0);if(u)return u(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var c=t[o]={exports:{}};r[o][0].call(c.exports,function(n){var t=r[o][1][n];return i(t?t:n)},c,c.exports,n,r,t,e)}return t[o].exports}for(var u="function"==typeof require&&require,o=0;o<e.length;o++)i(e[o]);return i}({1:[function(n,r,t){window.joldem={model:n("./model"),parse:n("./parser"),tokenize:n("./tokenizer")}},{"./model":2,"./parser":3,"./tokenizer":4}],2:[function(n,r,t){var e=n("./util"),i={ranks:["a","k","q","j","t","9","8","7","6","5","4","3","2"],suits:["h","s","c","d"],makeDeck:function(){return e.flatten(i.ranks.map(function(n){return i.suits.map(function(r){return n+r})}))},deal:function(n){return e.shuffle(i.makeDeck()).slice(0,n)}};r.exports=i},{"./util":5}],3:[function(n,r,t){function e(n){function r(n){if("+"==n[2]||"+"==n[3]){var r=n.split("+")[0],t=r[0]+s.ranks[s.ranks.indexOf(r[0])+1];n=r+"-"+t}for(var e=n.split("-")[0],i=n.split("-")[1],u=e.length>2?e[2]:"",o=[],f=s.ranks.indexOf(e[1]);f>=s.ranks.indexOf(i[1]);f--)o.push(e[0]+""+s.ranks[f]+u);return o}function t(n){"+"==n[2]&&(n=n.slice(0,2)+"-AA");for(var r=s.ranks.indexOf(n[0]),t=s.ranks.indexOf(n[3]),e=[],i=r;i>=t;i--)i in s.ranks&&e.push(s.ranks[i]+""+s.ranks[i]);return e}return/[\+-]+/.test(n)?n[0]==n[1]?t(n):r(n):[n]}function i(n){return n[0]!=n[1]&&2==n.length?[n+"s",n+"o"]:n}function u(n){var r,t,e=[];if(2==n.length){for(r=0;r<s.suits.length;r++)for(t=r+1;t<s.suits.length;t++)e.push(n[0]+s.suits[r]+n[0]+s.suits[t]);return e}if(3==n.length){if("s"==n[2]){for(r=0;r<s.suits.length;r++)e.push([n[0],s.suits[r],n[1],s.suits[r]].join(""));return e}for(r=0;r<s.suits.length;r++)for(t=0;t<s.suits.length;t++)r!=t&&e.push([n[0],s.suits[r],n[1],s.suits[t]].join(""));return e}return[n]}function o(n){n=n.toLowerCase();var r,t;if(s.suits.indexOf(n[1])>=0){if(r=s.ranks.indexOf(n[0]),t=s.ranks.indexOf(n[2]),r>t)return n.slice(2,4)+n.slice(0,2)}else if(r=s.ranks.indexOf(n[0]),t=s.ranks.indexOf(n[1]),r>t)return n[1]+n[0]+n.slice(2);return n}function f(n,r){"undefined"==typeof r&&(r=1);var t=n.split(/[ ,]+/).map(o);return t=a.flatMap(t,e),3>r&&(t=a.flatMap(t,i)),2>r&&(t=a.flatMap(t,u)),t}var s=n("./model"),a=n("./util");r.exports=f},{"./model":2,"./util":5}],4:[function(n,r,t){function e(n){return n.split("").map(function(n){return/[akqtj]/.test(n)?n.toUpperCase():n}).join("")}function i(n){function r(n,r){var t=r[0]+""+r[2];t in n?n[t].push(r):n[t]=[r]}function t(n,r,t){for(var e in n)n[e].length==r?o.push(e+t):o=o.concat(n[e])}var e={},i={},u={},o=[];return a.unique(n).forEach(function(n){n.length<=3||/[\+-]+/.test(n)?o.push(n):n[0]==n[2]?r(u,n):n[1]==n[3]?r(e,n):r(i,n)}),t(e,4,"s"),t(i,12,"o"),t(u,6,""),o}function u(n){var r={},t=[];n.forEach(function(n){if("s"==n[2]||"o"==n[2]){var e=n.slice(0,2);e in r?r[e].push(n):r[e]=[n]}else t.push(n)});for(var e in r)t.push(2==r[e].length?e:r[e][0]);return t}function o(n){function r(n,r,t){r.push(n.length>1?t(n[0],n[n.length-1]):n[0])}function t(t,e){var i=n.filter(t).sort(function(n,r){return s.ranks.indexOf(r[1])-s.ranks.indexOf(n[1])});if(i.length>0){for(var u=[i[0]],o=1;o<i.length;o++){var a=s.ranks.indexOf(i[o-1][1]),c=s.ranks.indexOf(i[o][1]);a-c==1?u.push(i[o]):(r(u,f,e),u=[i[o]])}r(u,f,e)}}function e(n,r){return function(n,t){return t[1]==s.ranks[a+1]?n.slice(0,2)+r+"+":n.slice(0,2)+r+"-"+t.slice(0,2)+r}}function i(n){return n[0]==s.ranks[a]&&n[0]!=n[1]&&2==n.length}function u(n){return n[0]==s.ranks[a]&&n[0]!=n[1]&&"s"==n[2]}function o(n){return n[0]==s.ranks[a]&&n[0]!=n[1]&&"o"==n[2]}var f=[];t(function(n){return n[0]==n[1]},function(n,r){return"aa"==r?n+"+":n+"-"+r});var a;for(a=0;a<s.ranks.length;a++)t(i,e(a,""));for(a=0;a<s.ranks.length;a++)t(u,e(a,"s"));for(a=0;a<s.ranks.length;a++)t(o,e(a,"o"));return f.concat(n.filter(function(n){return 4==n.length}))}function f(n,r){return"undefined"==typeof r&&(r=4),n=i(n),r>2&&(n=u(n)),r>3&&(n=o(n)),n.map(e).join(" ")}var s=n("./model"),a=n("./util");r.exports=f},{"./model":2,"./util":5}],5:[function(n,r,t){var e=function(n){return"[object Array]"===toString.call(n)},i=function(n){return"[object Arguments]"===toString.call(n)},u=Math.pow(2,53)-1,o=function(n){var r=n&&n.length;return"number"==typeof r&&r>=0&&u>=r},f=function(n){for(var r,t=[],u=0,s=0,a=n&&n.length;a>s;s++)if(r=n[s],o(r)&&(e(r)||i(r))){r=f(r);var c=0,l=r.length;for(t.length+=l;l>c;)t[u++]=r[c++]}else t[u++]=r;return t},s={flatten:f,shuffle:function(n){for(var r,t,e=n.length;e;r=Math.floor(Math.random()*e),t=n[--e],n[e]=n[r],n[r]=t);return n},unique:function(n){return n.filter(function(n,r,t){return t.indexOf(n)==r})},flatMap:function(n,r){return Array.prototype.concat.apply([],n.map(r))},copy:function(n){return _.isObject(n)?_.isArray(n)?n.slice():_.extend({},n):n}};r.exports=s},{}]},{},[1]);